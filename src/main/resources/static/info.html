<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>info</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/info.css">
    <script src="layui/layui.all.js"></script>
</head>
<body>
    <nav id="header"></nav>
    <div class="layui-container" id="context_container">
        <div class="layui-row layui-col-space" id="info">

        </div>
    </div>
    <footer id="footer"></footer>
</body>
<script>
    $ = layui.$;
    $("#header").load("/nav");
    $("#footer").load("/footer");
    //获取地址栏传入的参数
    $.getURLParam = function (name){
        let reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
        let r = window.location.search.substr(1).match(reg);
        if (r!=null) return unescape(r[2]); return null;
    }
    var infoId = $.getURLParam("infoId");
    $.get("/api/info/infobyid",{infoId: infoId},(data) => {
        let res = data.data;
        $('#info').append("<div class= 'layui-col-md12'><figure><img src='img/demo/download.jpg'><figcaption><p>"+res.title+"</p>&nbsp&nbsp&nbsp&nbsp"+res.infoContent+"</figcaption></figure></div>");
    })
</script>
</html>